{"version":3,"file":"static/js/691.e317b341.chunk.js","mappings":"gTAEaA,EAAQC,EAAAA,GAAAA,MAAH,kIAQLC,EAASD,EAAAA,GAAAA,OAAH,+M,SCLNE,EAAS,WACpB,OAA0BC,EAAAA,EAAAA,UAAS,IAAnC,eAAOC,EAAP,KAAcC,EAAd,KACA,GAAwCC,EAAAA,EAAAA,MAAxC,eAAOC,EAAP,KAAqBC,EAArB,KACMC,GAAWC,EAAAA,EAAAA,MAEXC,EAAQJ,EAAaK,IAAI,UAE/BC,EAAAA,EAAAA,YAAU,WACR,GAAc,OAAVF,QAA4BG,IAAVH,GAAiC,KAAVA,EAA7C,CAIA,IAAMI,EAAkB,IAAIC,gBAEtBC,EAAe,iBAAaN,EAAb,WAEfO,EAAQ,mCAAG,8GAEcC,EAAAA,EAAAA,GALjB,gBAORJ,EACAE,GALW,OAEPG,EAFO,OAQbf,EAASe,GARI,gDAUbC,QAAQC,IAAR,0BAVa,yDAAH,qDAed,OAFAJ,IAEO,kBAAMH,EAAgBQ,OAAtB,CArBN,CAsBF,GAAE,CAACZ,EAAON,IAaX,OACE,4BACE,kBAAMmB,SAAU,SAAAC,GAAC,OAbK,SAAAA,GACxBA,EAAEC,iBACF,IAAMC,EAAaF,EAAEG,OAAO,GAAGC,MAAMC,OAErC,GAAmB,KAAfH,EACF,OAAOnB,EAAgB,CAAC,GAE1BA,EAAgB,CAAEG,MAAOgB,IACzBF,EAAEG,OAAOG,OACV,CAIwBC,CAAkBP,EAAtB,EAAjB,WACE,SAAC1B,EAAD,CACEkC,KAAK,OACLC,aAAa,MACbC,WAAS,EACTC,YAAY,qBAEd,SAACnC,EAAD,CAAQgC,KAAK,SAAb,wBAGF,gCACGI,QAAQjC,EAAMkC,UAAYlC,EAAMkC,QAAQC,OAAS,IAChD,wBACGnC,EAAMkC,QAAQE,KAAI,YAAoB,IAAjBC,EAAgB,EAAhBA,MAAOC,EAAS,EAATA,GAC3B,OACE,yBACE,SAAC,KAAD,CAAMC,GAAE,UAAKD,GAAME,MAAO,CAAEC,KAAMpC,GAAlC,SACGgC,KAFIC,EAMZ,MAGJL,QAAQjC,EAAMkC,UACU,IAAzBlC,EAAMkC,QAAQC,QACC,IAAfnC,EAAM0C,MACI,KAAVnC,GACE,sEACE,UAIX,EAED,G,8FCrFaQ,EAAe,mCAAG,WAC7B4B,EACAhC,GAF6B,gGAG7BE,EAH6B,+BAGX,GAGZ+B,EANuB,mCAQvBC,EARuB,kDAQHF,EARG,mBAQgBC,EARhB,0BAQyC/B,GARzC,SAUNiC,EAAAA,EAAAA,IAAUD,EAAK,CAAEE,OAAQpC,EAAgBoC,SAVnC,cAUvBC,EAVuB,yBAYtBA,EAASC,MAZa,2CAAH,uD","sources":["pages/Movies/Movies.styled.jsx","pages/Movies/Movies.jsx","services/services.js"],"sourcesContent":["import styled from 'styled-components';\n\nexport const Input = styled.input`\n  margin-right: 5px;\n  border: 2px solid grey;\n  border-radius: 3px;\n  height: 20px;\n  width: 300px;\n`;\n\nexport const Button = styled.button`\n  border: 2px solid grey;\n  border-radius: 3px;\n  height: 26px;\n  width: 100px;\n  cursor: pointer;\n  &:hover,\n  :focus {\n    background-color: #80808054;\n    border: 0;\n  }\n`;\n","import { useEffect, useState } from 'react';\nimport { AxiosApiService } from '../../services/services';\nimport { Link, useLocation, useSearchParams } from 'react-router-dom';\nimport { Input, Button } from './Movies.styled';\n\nexport const Movies = () => {\n  const [items, setItems] = useState([]);\n  const [searchParams, setSearchParams] = useSearchParams();\n  const location = useLocation();\n\n  const query = searchParams.get('query');\n\n  useEffect(() => {\n    if (query === null || query === undefined || query === '') {\n      return;\n    }\n\n    const abortController = new AbortController();\n    const queryUrl = `search/movie?`;\n    const wordSearchQuery = `&query=${query}&page=1`;\n\n    const getItems = async () => {\n      try {\n        const responseData = await AxiosApiService(\n          queryUrl,\n          abortController,\n          wordSearchQuery\n        );\n\n        setItems(responseData);\n      } catch (error) {\n        console.log(`IsError: ${error}`);\n      }\n    };\n    getItems();\n\n    return () => abortController.abort();\n  }, [query, setItems]);\n\n  const updateQueryString = e => {\n    e.preventDefault();\n    const queryValue = e.target[0].value.trim();\n\n    if (queryValue === '') {\n      return setSearchParams({});\n    }\n    setSearchParams({ query: queryValue });\n    e.target.reset();\n  };\n\n  return (\n    <div>\n      <form onSubmit={e => updateQueryString(e)}>\n        <Input\n          type=\"text\"\n          autoComplete=\"off\"\n          autoFocus\n          placeholder=\"  Search movies\"\n        />\n        <Button type=\"submit\">Search</Button>\n      </form>\n\n      <>\n        {Boolean(items.results) && items.results.length > 0 && (\n          <ul>\n            {items.results.map(({ title, id }) => {\n              return (\n                <li key={id}>\n                  <Link to={`${id}`} state={{ from: location }}>\n                    {title}\n                  </Link>\n                </li>\n              );\n            })}\n          </ul>\n        )}\n        {Boolean(items.results) &&\n        items.results.length === 0 &&\n        items.page === 1 &&\n        query !== '' ? (\n          <p>No movies found, please change your query.</p>\n        ) : null}\n      </>\n    </div>\n  );\n};\n\nexport default Movies;\n","import axios from 'axios';\n\nexport const AxiosApiService = async (\n  queryUrl,\n  abortController,\n  wordSearchQuery = ''\n) => {\n  const BASE_URL = `https://api.themoviedb.org/3/`;\n  const API_KEY = `1f93214cb1bbadcc143eeb01d552ab8c`;\n\n  const url = `${BASE_URL}${queryUrl}api_key=${API_KEY}&language=en-US${wordSearchQuery}`;\n\n  const response = await axios.get(url, { signal: abortController.signal });\n\n  return response.data;\n};\n"],"names":["Input","styled","Button","Movies","useState","items","setItems","useSearchParams","searchParams","setSearchParams","location","useLocation","query","get","useEffect","undefined","abortController","AbortController","wordSearchQuery","getItems","AxiosApiService","responseData","console","log","abort","onSubmit","e","preventDefault","queryValue","target","value","trim","reset","updateQueryString","type","autoComplete","autoFocus","placeholder","Boolean","results","length","map","title","id","to","state","from","page","queryUrl","API_KEY","url","axios","signal","response","data"],"sourceRoot":""}