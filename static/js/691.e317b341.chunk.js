"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[691],{691:function(e,r,n){n.r(r),n.d(r,{Movies:function(){return b},default:function(){return m}});var t,o,u=n(861),a=n(439),c=n(757),s=n.n(c),i=n(791),l=n(636),p=n(87),f=n(689),h=n(168),d=n(444),v=d.ZP.input(t||(t=(0,h.Z)(["\n  margin-right: 5px;\n  border: 2px solid grey;\n  border-radius: 3px;\n  height: 20px;\n  width: 300px;\n"]))),g=d.ZP.button(o||(o=(0,h.Z)(["\n  border: 2px solid grey;\n  border-radius: 3px;\n  height: 26px;\n  width: 100px;\n  cursor: pointer;\n  &:hover,\n  :focus {\n    background-color: #80808054;\n    border: 0;\n  }\n"]))),x=n(184),b=function(){var e=(0,i.useState)([]),r=(0,a.Z)(e,2),n=r[0],t=r[1],o=(0,p.lr)(),c=(0,a.Z)(o,2),h=c[0],d=c[1],b=(0,f.TH)(),m=h.get("query");(0,i.useEffect)((function(){if(null!==m&&void 0!==m&&""!==m){var e=new AbortController,r="&query=".concat(m,"&page=1"),n=function(){var n=(0,u.Z)(s().mark((function n(){var o;return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,(0,l.C)("search/movie?",e,r);case 3:o=n.sent,t(o),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),console.log("IsError: ".concat(n.t0));case 10:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(){return n.apply(this,arguments)}}();return n(),function(){return e.abort()}}}),[m,t]);return(0,x.jsxs)("div",{children:[(0,x.jsxs)("form",{onSubmit:function(e){return function(e){e.preventDefault();var r=e.target[0].value.trim();if(""===r)return d({});d({query:r}),e.target.reset()}(e)},children:[(0,x.jsx)(v,{type:"text",autoComplete:"off",autoFocus:!0,placeholder:"  Search movies"}),(0,x.jsx)(g,{type:"submit",children:"Search"})]}),(0,x.jsxs)(x.Fragment,{children:[Boolean(n.results)&&n.results.length>0&&(0,x.jsx)("ul",{children:n.results.map((function(e){var r=e.title,n=e.id;return(0,x.jsx)("li",{children:(0,x.jsx)(p.rU,{to:"".concat(n),state:{from:b},children:r})},n)}))}),Boolean(n.results)&&0===n.results.length&&1===n.page&&""!==m?(0,x.jsx)("p",{children:"No movies found, please change your query."}):null]})]})},m=b},636:function(e,r,n){n.d(r,{C:function(){return c}});var t=n(861),o=n(757),u=n.n(o),a=n(243),c=function(){var e=(0,t.Z)(u().mark((function e(r,n){var t,o,c,s,i=arguments;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=i.length>2&&void 0!==i[2]?i[2]:"",o="1f93214cb1bbadcc143eeb01d552ab8c",c="".concat("https://api.themoviedb.org/3/").concat(r,"api_key=").concat(o,"&language=en-US").concat(t),e.next=6,a.Z.get(c,{signal:n.signal});case 6:return s=e.sent,e.abrupt("return",s.data);case 8:case"end":return e.stop()}}),e)})));return function(r,n){return e.apply(this,arguments)}}()}}]);
//# sourceMappingURL=691.e317b341.chunk.js.map