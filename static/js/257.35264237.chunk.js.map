{"version":3,"file":"static/js/257.35264237.chunk.js","mappings":"sRAGaA,EAAYC,EAAAA,GAAAA,IAAH,oFAMTC,GAAaD,EAAAA,EAAAA,IAAOE,EAAAA,GAAPF,CAAH,uTAgBVG,GAAUH,EAAAA,EAAAA,IAAOE,EAAAA,GAAPF,CAAH,wU,SCgDpB,EApEqB,WAAO,IAAD,YACzB,GAAkCI,EAAAA,EAAAA,YAAlC,eAAOC,EAAP,KAAkBC,EAAlB,KACQC,GAAYC,EAAAA,EAAAA,MAAZD,QACFE,GAAWC,EAAAA,EAAAA,MAEXC,EAAY,oBAAGF,EAASG,aAAZ,aAAG,EAAgBC,YAAnB,QAA2B,IAuB7C,OAlBAC,EAAAA,EAAAA,YAAU,WACR,IAAMC,EAAkB,IAAIC,gBACtBC,EAAQ,gBAAYV,EAAZ,KAERW,EAAgB,mCAAG,8GAEMC,EAAAA,EAAAA,GAAgBF,EAAUF,GAFhC,OAEfK,EAFe,OAIrBd,EAAac,GAJQ,gDAMrBC,QAAQC,IAAR,0BANqB,yDAAH,qDAWtB,OAFAJ,IAEO,kBAAMH,EAAgBQ,OAAtB,CACR,GAAE,CAAChB,KAGF,gCACGiB,QAAQnB,KACP,UAACN,EAAD,YACE,SAACE,EAAD,CAAYwB,GAAId,EAAhB,sBAEA,gBACEe,IAAG,8CAAyCrB,EAAUsB,aACtDC,IAAKvB,EAAUwB,eACfC,OAAO,WAET,0BACGzB,EAAUwB,eADb,KAC+BxB,EAAU0B,aAAaC,MAAM,EAAG,GAD/D,QAGA,yCAA0C,GAAzB3B,EAAU4B,cAAmBC,QAAQ,GAAtD,QACA,sCACA,uBAAI7B,EAAU8B,YACd,oCACA,uBACG9B,EAAU+B,OACRC,KAAI,SAAAC,GAAC,gBAAOA,EAAEC,KAAT,SACLC,KAAK,IACLR,MAAM,GAAI,MAEf,oDACA,SAAC7B,EAAD,CAASsB,GAAG,OAAOb,MAAK,UAAE,CAAEC,KAAI,UAAEJ,EAASG,aAAX,aAAE,EAAgBC,aAA1B,QAAoC,IAA5D,mBAGA,SAACV,EAAD,CAASsB,GAAG,UAAUb,MAAK,UAAE,CAAEC,KAAI,UAAEJ,EAASG,aAAX,aAAE,EAAgBC,aAA1B,QAAoC,IAA/D,yBAKJ,SAAC,EAAA4B,SAAD,CAAUC,UAAU,8CAApB,UACE,SAAC,KAAD,QAIP,C,8FCrEYvB,EAAe,mCAAG,WAC7BF,EACAF,GAF6B,gGAG7B4B,EAH6B,+BAGX,GAGZC,EANuB,mCAQvBC,EARuB,kDAQH5B,EARG,mBAQgB2B,EARhB,0BAQyCD,GARzC,SAUNG,EAAAA,EAAAA,IAAUD,EAAK,CAAEE,OAAQhC,EAAgBgC,SAVnC,cAUvBC,EAVuB,yBAYtBA,EAASC,MAZa,2CAAH,uD","sources":["pages/MovieDetails/MovieDetails.styled.jsx","pages/MovieDetails/MovieDetails.jsx","services/services.js"],"sourcesContent":["import styled from 'styled-components';\r\nimport { Link } from 'react-router-dom';\r\n\r\nexport const Container = styled.div`\r\n  max-width: 960px;\r\n  margin: 0 auto;\r\n  padding: 0 16px;\r\n`;\r\n\r\nexport const GoBackLink = styled(Link)`\r\n  font-size: small;\r\n  display: block;\r\n  padding: 3px 5px;\r\n  border: 1px solid grey;\r\n  border-radius: 3px;\r\n  background-color: #9393936c;\r\n  color: #000;\r\n  font-weight: bold;\r\n  text-align: center;\r\n  text-decoration: none;\r\n  margin-bottom: 10px;\r\n  width: 70px;\r\n  height: 15px;\r\n`;\r\n\r\nexport const InfLink = styled(Link)`\r\n  font-size: small;\r\n  display: inline-block;\r\n  padding: 3px 5px;\r\n  border: 1px solid grey;\r\n  border-radius: 3px;\r\n  background-color: #9393936c;\r\n  color: #000;\r\n  text-align: center;\r\n  text-decoration: none;\r\n  width: 50px;\r\n  height: 15px;\r\n\r\n  &:not(:last-child) {\r\n    margin-right: 10px;\r\n  }\r\n`;\r\n","import { useEffect, useState, Suspense } from 'react';\r\nimport { useParams, useLocation, Outlet } from 'react-router-dom';\r\nimport { AxiosApiService } from '../../services/services';\r\nimport { Container, GoBackLink, InfLink } from './MovieDetails.styled';\r\n\r\nconst MovieDetails = () => {\r\n  const [movieInfo, setMovieInfo] = useState();\r\n  const { movieId } = useParams();\r\n  const location = useLocation();\r\n\r\n  const backLinkHref = location.state?.from ?? '/';\r\n\r\n  // console.log(location);\r\n  // console.log(location.state.from);\r\n\r\n  useEffect(() => {\r\n    const abortController = new AbortController();\r\n    const queryUrl = `movie/${movieId}?`;\r\n\r\n    const getMovieInfoInfo = async () => {\r\n      try {\r\n        const responseData = await AxiosApiService(queryUrl, abortController);\r\n\r\n        setMovieInfo(responseData);\r\n      } catch (error) {\r\n        console.log(`IsError: ${error}`);\r\n      }\r\n    };\r\n    getMovieInfoInfo();\r\n\r\n    return () => abortController.abort();\r\n  }, [movieId]);\r\n\r\n  return (\r\n    <>\r\n      {Boolean(movieInfo) && (\r\n        <Container>\r\n          <GoBackLink to={backLinkHref}>Go back</GoBackLink>\r\n          {/* //TODO: extract component */}\r\n          <img\r\n            src={`https://image.tmdb.org/t/p/original/${movieInfo.poster_path}`}\r\n            alt={movieInfo.original_title}\r\n            height=\"350px\"\r\n          />\r\n          <h2>\r\n            {movieInfo.original_title} ({movieInfo.release_date.slice(0, 4)})\r\n          </h2>\r\n          <p>User Score: {(movieInfo.vote_average * 10).toFixed(0)}%</p>\r\n          <h3>Overview</h3>\r\n          <p>{movieInfo.overview}</p>\r\n          <h3>Genres</h3>\r\n          <p>\r\n            {movieInfo.genres\r\n              .map(g => `${g.name}, `)\r\n              .join('')\r\n              .slice(0, -2)}\r\n          </p>\r\n          <h4>Additional information</h4>\r\n          <InfLink to=\"cast\" state={{ from: location.state?.from } ?? '/'}>\r\n            Cast\r\n          </InfLink>\r\n          <InfLink to=\"reviews\" state={{ from: location.state?.from } ?? '/'}>\r\n            Reviews\r\n          </InfLink>\r\n        </Container>\r\n      )}\r\n      <Suspense fallback={<div> Loading page...</div>}>\r\n        <Outlet />\r\n      </Suspense>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default MovieDetails;\r\n","import axios from 'axios';\r\n\r\nexport const AxiosApiService = async (\r\n  queryUrl,\r\n  abortController,\r\n  wordSearchQuery = ''\r\n) => {\r\n  const BASE_URL = `https://api.themoviedb.org/3/`;\r\n  const API_KEY = `1f93214cb1bbadcc143eeb01d552ab8c`;\r\n\r\n  const url = `${BASE_URL}${queryUrl}api_key=${API_KEY}&language=en-US${wordSearchQuery}`;\r\n\r\n  const response = await axios.get(url, { signal: abortController.signal });\r\n\r\n  return response.data;\r\n};\r\n"],"names":["Container","styled","GoBackLink","Link","InfLink","useState","movieInfo","setMovieInfo","movieId","useParams","location","useLocation","backLinkHref","state","from","useEffect","abortController","AbortController","queryUrl","getMovieInfoInfo","AxiosApiService","responseData","console","log","abort","Boolean","to","src","poster_path","alt","original_title","height","release_date","slice","vote_average","toFixed","overview","genres","map","g","name","join","Suspense","fallback","wordSearchQuery","API_KEY","url","axios","signal","response","data"],"sourceRoot":""}