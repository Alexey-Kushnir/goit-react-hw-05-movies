"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[134],{134:function(e,t,n){n.r(t),n.d(t,{Movies:function(){return p}});var r=n(861),a=n(439),u=n(757),c=n.n(u),o=n(791),s=n(636),i=n(689),l=n(87),f=n(184),p=function(){var e=(0,o.useState)({}),t=(0,a.Z)(e,2),n=t[0],u=t[1],p=(0,o.useState)(""),h=(0,a.Z)(p,2),v=h[0],d=h[1],m=(0,i.TH)(),b=(0,o.useRef)(!0);(0,o.useEffect)((function(){if(!b.current){var e=new AbortController,t="&query=".concat(v,"&page=1"),n=function(){var n=(0,r.Z)(c().mark((function n(){var r;return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,(0,s.C)("search/movie?",e,t);case 3:r=n.sent,u(r),n.next=9;break;case 7:n.prev=7,n.t0=n.catch(0);case 9:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(){return n.apply(this,arguments)}}();return n(),function(){return e.abort()}}b.current=!1}),[v]);return(0,f.jsxs)("div",{children:[(0,f.jsxs)("form",{onSubmit:function(e){!function(e){e.preventDefault();var t=e.target[0].value.trim();d(t)}(e)},children:[(0,f.jsx)("input",{type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search movies"}),(0,f.jsx)("button",{type:"submit",children:"Search"})]}),(0,f.jsxs)(f.Fragment,{children:[Boolean(n.results)&&n.results.length>0&&(0,f.jsx)("ul",{children:n.results.map((function(e){var t=e.title,n=e.id;return(0,f.jsx)("li",{children:(0,f.jsx)(l.rU,{to:"".concat(n),state:{from:m},children:t})},n)}))}),Boolean(n.results)&&0===n.results.length&&1===n.page&&""!==v?(0,f.jsx)("p",{children:"No movies found, please change your query."}):null]})]})};t.default=p},636:function(e,t,n){n.d(t,{C:function(){return o}});var r=n(861),a=n(757),u=n.n(a),c=n(243),o=function(){var e=(0,r.Z)(u().mark((function e(t,n){var r,a,o,s,i=arguments;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=i.length>2&&void 0!==i[2]?i[2]:"",a="1f93214cb1bbadcc143eeb01d552ab8c",o="".concat("https://api.themoviedb.org/3/").concat(t,"api_key=").concat(a,"&language=en-US").concat(r),e.next=6,c.Z.get(o,{signal:n.signal});case 6:return s=e.sent,e.abrupt("return",s.data);case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}}]);
//# sourceMappingURL=134.a7514dc1.chunk.js.map